{% extends "base.html" %}
{% block title %}Inserisci{% endblock %}

{% block content %}
<section id="create-personaggio-section" class="create-personaggio-section active">
    <h2>Crea il Tuo Nuovo Libro</h2>
    <form action="{{ url_for('executelibro') }}" method="POST" class="personaggio-form">
        <div class="form-group">
            <label for="titolo">Titolo</label>
            <input type="text" id="titolo" name="titolo" required>
        </div>

        <div class="form-group">
            <label for="nome">Seleziona il Genere</label>
            <select name="nome" id="nome" required>
                {% for element in result %}
                    <option value="{{ element[0] }}">{{ element[0] }}</option>
                {% endfor %}
            </select>
        </div>

        <fieldset class="form-fieldset">
            <legend>Seleziona i sottogeneri</legend>
            <div class="tags-container">
                {% for tag in tags %}
                    <div>
                        <input type="checkbox" name="tags[]" id="tag_{{ loop.index }}" value="{{ tag[0] }}">
                        <label for="tag_{{ loop.index }}">{{ tag[0] }}</label>
                    </div>
                {% endfor %}
            </div>
        </fieldset>
        <div class="form-group">
            <label for="tagn">Inserisci nuovo sottogenere</label>
            <input type="text" id="tagn" name="tagn">
        </div>

        <div class="form-group">
            <label for="trama">Trama</label>
            <textarea id="trama" name="trama" rows="10" required></textarea>
        </div>

        <div class="form-group">
            <label for="sinossi">Sinossi</label>
            <textarea id="sinossi" name="sinossi" rows="10" required></textarea>
        </div>

        <button type="submit" class="submit-button">Crea</button>
    </form>
</section>
{% endblock %}