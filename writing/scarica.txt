create table public.libro (
  id bigint generated by default as identity not null,
  idgenere bigint null,
  idautore character varying null default '50'::character varying,
  titolo text null,
  trama text null,
  sinossi text null,
  datacreazione timestamp with time zone null,
  constraint Libro_pkey primary key (id),
  constraint Libro_IDAutore_fkey foreign KEY (idautore) references utente (nome),
  constraint Libro_IDGenere_fkey foreign KEY (idgenere) references genere (idgenere)
) TABLESPACE pg_default;

 create table public.tag (
  id bigint generated by default as identity not null,
  nome text not null,
  constraint tag_pkey primary key (id),
  constraint tag_nome_key unique (nome)
) TABLESPACE pg_default;


create table public.tag_libro (
  id bigint generated always as identity not null,
  idtag bigint null,
  idlibro bigint null,
  constraint tag_libro_pkey primary key (id),
  constraint tag_libro_idlibro_fkey foreign KEY (idlibro) references libro (id),
  constraint tag_libro_idtag_fkey foreign KEY (idtag) references tag (id)
) TABLESPACE pg_default;

